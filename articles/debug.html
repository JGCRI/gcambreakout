<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Debug Regions • gcambreakout</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Debug Regions">
<meta property="og:description" content="gcambreakout">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gcambreakout</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../articles/userguide.html">
    <span class="fas fa-book"></span>
     
    User Guide
  </a>
</li>
<li>
  <a href="../articles/debug.html">
    <span class="fas fa-bug"></span>
     
    Debug Regions
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Reference
  </a>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    News
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/JGCRI/gcambreakout/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="debug_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Debug Regions</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/JGCRI/gcambreakout/blob/HEAD/vignettes/debug.Rmd" class="external-link"><code>vignettes/debug.Rmd</code></a></small>
      <div class="hidden name"><code>debug.Rmd</code></div>

    </div>

    
    
<!-------------------------->
<!-------------------------->
<div class="section level1">
<h1 id="debugging-new-regions">Debugging new regions<a class="anchor" aria-label="anchor" href="#debugging-new-regions"></a>
</h1>
<!-------------------------->
<!-------------------------->
<p>When a new region is broken out using <code>gcambreakout</code> several errors can arise as a result of missing or modified data for the new region broken out or the remaining region left behind. These errors can occur at four different points in the workflow which include:</p>
<ol style="list-style-type: decimal">
<li>
<code>gcambreakout</code>: The error may occur when running gcam breakout itself. Related to availability of raw data.</li>
<li>
<code>gcamdata</code>: The error may occur when regenerating package data. Related to processing the modified raw data.</li>
<li>
<code>xmls</code> The output XMLs may have several NA or NAN values. These won’t show up as errors but can be identified after examinging the XMLs.</li>
<li>
<code>GCAM errors</code>: And finally all XMLs may be produced cleanly but GCAM may give calibration or other errors.</li>
</ol>
<!--------------------------><!-------------------------->
</div>
<div class="section level1">
<h1 id="summary-tables">Summary Tables<a class="anchor" aria-label="anchor" href="#summary-tables"></a>
</h1>
<!-------------------------->
<!-------------------------->
<p align="center">
<img src="vignetteFigs/divider.png"></p>
<div class="section level2">
<h2 id="gcambreakout-errors">gcambreakout errors<a class="anchor" aria-label="anchor" href="#gcambreakout-errors"></a>
</h2>
<table style="width:100%;" class="table">
<colgroup>
<col width="13%">
<col width="20%">
<col width="55%">
<col width="9%">
</colgroup>
<thead><tr class="header">
<th>gcambreakout_errors</th>
<th>gcambreakout_solutions</th>
<th>gcambreakout_commits</th>
<th>gcambreakout_regions</th>
</tr></thead>
<tbody><tr class="odd">
<td><ul>
<li>Error in left_join_error_no_match(., L123.LC_bm2_R_Past_Y_GLU, by = c(“GCAM_region_ID”,: left_join_no_match: NA values in new data columns</li>
</ul></td>
<td><ul>
<li>zchunk_LB120.LC_GIS_R_LTgis_Yh_GLU_breakout.R</li>
<li>zchunk_LB123.LC_R_MgdPastFor_Yh_GLU_breakout.R</li>
</ul></td>
<td><ul>
<li><a href="https://github.com/JGCRI/gcambreakout/commit/705338a09a59725c11d52bc956b1592f5cfbb298" class="external-link">705338a09a59725c11d52bc956b1592f5cfbb298</a></li>
<li><a href="https://github.com/JGCRI/gcambreakout/commit/cd53649da041d55c28e548b60560247546bdc57b" class="external-link">cd53649da041d55c28e548b60560247546bdc57b</a></li>
</ul></td>
<td><ul>
<li>Angola</li>
<li>Australia</li>
</ul></td>
</tr></tbody>
</table>
</div>
<div class="section level2">
<h2 id="gcamdata-system-errors">gcamdata system errors<a class="anchor" aria-label="anchor" href="#gcamdata-system-errors"></a>
</h2>
</div>
<div class="section level2">
<h2 id="xml-errors">XML errors<a class="anchor" aria-label="anchor" href="#xml-errors"></a>
</h2>
</div>
<div class="section level2">
<h2 id="gcam-errors">GCAM errors<a class="anchor" aria-label="anchor" href="#gcam-errors"></a>
</h2>
<!-------------------------->
<!-------------------------->
</div>
</div>
<div class="section level1">
<h1 id="angola">Angola<a class="anchor" aria-label="anchor" href="#angola"></a>
</h1>
<!-------------------------->
<!-------------------------->
<p align="center">
<img src="vignetteFigs/divider.png"></p>
<p>Discus country in general. Regional issues, sectoral resources, size in region etc.</p>
<div class="section level2">
<h2 id="gcambreakout">gcambreakout<a class="anchor" aria-label="anchor" href="#gcambreakout"></a>
</h2>
<p>No errors.</p>
</div>
<div class="section level2">
<h2 id="gcamdata">gcamdata<a class="anchor" aria-label="anchor" href="#gcamdata"></a>
</h2>
<p><strong>Error 1:</strong></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>Error <span class="cf">in</span> <span class="kw">left_join_error_no_match</span>(., L123.LC_bm2_R_Past_Y_GLU, <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">"GCAM_region_ID"</span>,  <span class="op">:</span><span class="st"> </span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="st">  </span>left_join_no_match<span class="op">:</span><span class="st"> </span><span class="ot">NA</span> values <span class="cf">in</span> new data columns</span></code></pre></div>
<p><strong>Solution 1:</strong></p>
<ol style="list-style-type: decimal">
<li>zchunk_LB120.LC_GIS_R_LTgis_Yh_GLU_breakout.R</li>
</ol>
<ul>
<li>commit: <a href="https://github.com/JGCRI/gcambreakout/commit/705338a09a59725c11d52bc956b1592f5cfbb298" class="external-link">705338a09a59725c11d52bc956b1592f5cfbb298</a>
</li>
<li>Details on fix:</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>zchunk_LB123.LC_R_MgdPastFor_Yh_GLU_breakout.R"<br>
</li>
</ol>
<ul>
<li>commit: <a href="https://github.com/JGCRI/gcambreakout/commit/cd53649da041d55c28e548b60560247546bdc57b" class="external-link">cd53649da041d55c28e548b60560247546bdc57b</a><br>
</li>
<li>Details on fix:</li>
</ul>
</div>
<div class="section level2">
<h2 id="xml">XML<a class="anchor" aria-label="anchor" href="#xml"></a>
</h2>
<p><strong>Error 1:</strong> File ‘all_fgas_emissions.xml’ - the supplysector “comm cooling” was not correctly built due to a lack of data in the IEA_EnergyBalances_2019.csv file. Specifically, the IEA_EnergyBalances_2019.csv shows zero electricity consumption in the commercial sector (‘COMMPUB’ flow in the IEA_EnergyBalances_2019.csv) of Angola in all historical years.</p>
<p><strong>Solution 1:</strong></p>
<p>File ‘zchunk_LA100.IEA_downscale_ctry.R’ (located at input/gcamdata/R) was modified to make sure a non-zero amount of electricity consumption exists in the commercial sector of Angola in the historical years (see section ‘UP FRONT ADJUSTMENTS (UFA)’, specifically section ‘UFA5’ in this R code, which shows the assumptions made for Angola). However, users can modify these assumptions based on specific data available for Angola.</p>
</div>
<div class="section level2">
<h2 id="gcam">GCAM<a class="anchor" aria-label="anchor" href="#gcam"></a>
</h2>
<p>No errors (tested using the GCAM reference scenario and after correcting all errors above).</p>
<!-------------------------->
<!-------------------------->
</div>
</div>
<div class="section level1">
<h1 id="ghana">Ghana<a class="anchor" aria-label="anchor" href="#ghana"></a>
</h1>
<!-------------------------->
<!-------------------------->
<p align="center">
<img src="vignetteFigs/divider.png"></p>
<p>Discus country in general. Regional issues, sectoral resources, size in region etc.</p>
<div class="section level2">
<h2 id="gcambreakout-1">gcambreakout<a class="anchor" aria-label="anchor" href="#gcambreakout-1"></a>
</h2>
<p>No errors.</p>
</div>
<div class="section level2">
<h2 id="gcamdata-1">gcamdata<a class="anchor" aria-label="anchor" href="#gcamdata-1"></a>
</h2>
<p><strong>Error 1:</strong></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>Error <span class="cf">in</span> <span class="kw">left_join_error_no_match</span>(., L123.LC_bm2_R_Past_Y_GLU, <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">"GCAM_region_ID"</span>,  <span class="op">:</span><span class="st"> </span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="st">  </span>left_join_no_match<span class="op">:</span><span class="st"> </span><span class="ot">NA</span> values <span class="cf">in</span> new data columns</span></code></pre></div>
<p><strong>Solution 1:</strong></p>
</div>
<div class="section level2">
<h2 id="xml-1">XML<a class="anchor" aria-label="anchor" href="#xml-1"></a>
</h2>
<p>No errors.</p>
</div>
<div class="section level2">
<h2 id="gcam-1">GCAM<a class="anchor" aria-label="anchor" href="#gcam-1"></a>
</h2>
<p>No errors (tested using the GCAM reference scenario and after correcting all errors above).</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Zarrar Khan, Silvia Regina Santos da Silva, Page Kyle, Chris Vernon.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
